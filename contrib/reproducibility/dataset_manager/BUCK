load("@fbcode_macros//build_defs:python_binary.bzl", "python_binary")
load("@fbcode_macros//build_defs:python_library.bzl", "python_library")

oncall("data_compression")

python_library(
    name = "__init__",
    srcs = ["__init__.py"],
    labels = ["autodeps2_generated"],
    deps = [],
)

python_binary(
    name = "dataset_manager",
    srcs = ["dataset_manager.py"],
    main_function = "data_compression.experimental.zstrong.contrib.reproducibility.dataset_manager.dataset_manager.main",
    typing = True,
    deps = [
        ":base_dataset_builder",
    ],
)

python_library(
    name = "dataset_utils",
    srcs = ["dataset_utils.py"],
    labels = ["autodeps2_generated"],
    deps = [
        "fbsource//third-party/pypi/kaggle:kaggle",
        "fbsource//third-party/pypi/numpy:numpy",
        "fbsource//third-party/pypi/pandas:pandas",
        "fbsource//third-party/pypi/pyarrow:pyarrow",
        "fbsource//third-party/pypi/rasterio:rasterio",
        "fbsource//third-party/pypi/requests:requests",
        "fbsource//third-party/pypi/xarray:xarray",
    ],
)

python_library(
    name = "base_dataset_builder",
    srcs = ["base_dataset_builder.py"],
    labels = ["autodeps2_generated"],
    deps = [
        ":dataset_utils",
    ],
)
